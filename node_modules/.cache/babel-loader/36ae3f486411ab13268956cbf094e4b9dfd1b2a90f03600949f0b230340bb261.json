{"ast":null,"code":"import _initializerDefineProperty from \"/Users/wastardy/Documents/studying/client_task_flow/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";\nimport _applyDecoratedDescriptor from \"/Users/wastardy/Documents/studying/client_task_flow/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";\nimport _initializerWarningHelper from \"/Users/wastardy/Documents/studying/client_task_flow/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";\nvar _class, _descriptor, _descriptor2;\nimport { observable, action } from 'mobx';\nlet TasksStore = (_class = class TasksStore {\n  constructor(tasksService) {\n    _initializerDefineProperty(this, \"tasks\", _descriptor, this);\n    _initializerDefineProperty(this, \"filters\", _descriptor2, this);\n    this.tasksService = tasksService;\n  }\n  updateFilters({\n    status,\n    search\n  }) {\n    this.filters.status = status;\n    this.filters.search = search;\n    this.fetchTasks();\n  }\n  resetTasks() {\n    this.tasks = [];\n  }\n  async fetchTasks() {\n    const result = await this.tasksService.fetchTasks(this.filters);\n    if (result) {\n      this.tasks = result.data;\n    }\n  }\n  async createTask(title, description) {\n    const result = await this.tasksService.createTask(title, description);\n    if (result) {\n      this.tasks.push(result.data);\n    }\n  }\n  async deleteTask(id) {\n    const idx = this.tasks.findIndex(task => task.id === id);\n    await this.tasksService.deleteTask(id);\n    this.tasks.splice(idx, 1);\n  }\n  async updateTaskStatus(id, status) {\n    const task = this.tasks.find(task => task.id === id);\n    await this.tasksService.updateTaskStatus(id, status);\n    task.status = status;\n  }\n}, _descriptor = _applyDecoratedDescriptor(_class.prototype, \"tasks\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"filters\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {\n      status: '',\n      search: ''\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"resetTasks\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"resetTasks\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetchTasks\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchTasks\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"createTask\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"createTask\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"deleteTask\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteTask\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateTaskStatus\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"updateTaskStatus\"), _class.prototype), _class);\nexport { TasksStore as default };","map":{"version":3,"names":["observable","action","TasksStore","_class","constructor","tasksService","_initializerDefineProperty","_descriptor","_descriptor2","updateFilters","status","search","filters","fetchTasks","resetTasks","tasks","result","data","createTask","title","description","push","deleteTask","id","idx","findIndex","task","splice","updateTaskStatus","find","_applyDecoratedDescriptor","prototype","configurable","enumerable","writable","initializer","Object","getOwnPropertyDescriptor","default"],"sources":["/Users/wastardy/Documents/studying/client_task_flow/src/stores/tasks.store.js"],"sourcesContent":["import { observable, action } from 'mobx';\n\nexport default class TasksStore {\n  @observable tasks = [];\n  @observable filters = { status: '', search: '' };\n\n  constructor(tasksService) {\n    this.tasksService = tasksService;\n  }\n\n  updateFilters({ status, search }) {\n    this.filters.status = status;\n    this.filters.search = search;\n    this.fetchTasks();\n  }\n\n  @action\n  resetTasks() {\n    this.tasks = [];\n  }\n\n  @action\n  async fetchTasks() {\n    const result = await this.tasksService.fetchTasks(this.filters);\n\n    if (result) {\n      this.tasks = result.data;\n    }\n  }\n\n  @action\n  async createTask(title, description) {\n    const result = await this.tasksService.createTask(title, description);\n\n    if (result) {\n      this.tasks.push(result.data);\n    }\n  }\n\n  @action\n  async deleteTask(id) {\n    const idx = this.tasks.findIndex(task => task.id === id);\n    await this.tasksService.deleteTask(id);\n    this.tasks.splice(idx, 1);\n  }\n\n  @action\n  async updateTaskStatus(id, status) {\n    const task = this.tasks.find(task => task.id === id);\n    await this.tasksService.updateTaskStatus(id, status);\n    task.status = status;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}